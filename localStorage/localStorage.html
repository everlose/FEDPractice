<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>storage</title>
    <script src="./1.0.0/localStorage.js"></script>
</head>
<body>
    <script>
        // var  storage = window.localStorage,
        //  storage_date = storage.getItem('date');

        // //console.log(storage_date);
        // storage.setItem('date', new Date().getDate());
        // //storage.removeItem('date');
        // //storage.clear();

        
        var sizeof = function(str, charset) {
            var total = 0,
                charCode,
                i,
                len;

            charset = charset ? charset.toLowerCase() : '';

            if (charset === 'utf-16' || charset === 'utf16') {
                for (i = 0, len = str.length; i < len; i++) {
                    charCode = str.charCodeAt(i);
                    if (charCode <= 0xffff) {
                        total += 2;
                    } else {
                        total += 4;
                    }
                }
            } else {
                for (i = 0, len = str.length; i < len; i++) {
                    charCode = str.charCodeAt(i);
                    if (charCode <= 0x007f) {
                        total += 1;
                    } else if (charCode <= 0x07ff) {
                        total += 2;
                    } else if (charCode <= 0xffff) {
                        total += 3;
                    } else {
                        total += 4;
                    }
                }
            }

            return total;
        };
        // var str = '陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云陈君字子云';
        var str = 'qwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwertqwert'
        var res = '';
        for (var i = 0; i < 5242; i++) {
            res += str
        }
        //5242880
        //9.998
        console.log('字符数：'+res.length ,'大小：'+sizeof(res, 'utf16'));
        var storage = lib.storage;
        storage.set('string', res);

    </script>
</body>
</html>